{"code":"import { isFunction } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nexport function computed(getterOrOptions) {\r\n    const onlyGetter = isFunction(getterOrOptions);\r\n    let getter;\r\n    let setter;\r\n    //处理用户传的是对象还是函数\r\n    if (onlyGetter) {\r\n        getter = getterOrOptions;\r\n        setter = () => {\r\n            console.warn('is ReadOnly');\r\n        };\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    return new ComputedRefImpl(getter, setter);\r\n}\r\nclass ComputedRefImpl {\r\n    constructor(getter, setter) {\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this.__v_isReadOnly = true;\r\n        this.dep = new Set();\r\n        this.getter = getter;\r\n        this.setter = setter;\r\n        this.effect = new ReactiveEffect(this.getter, () => {\r\n        });\r\n    }\r\n    get value() {\r\n        return;\r\n    }\r\n    set value(newValue) {\r\n        this.setter(newValue);\r\n    }\r\n}\r\n//# sourceMappingURL=computed.js.map","references":["D:/code/mini-vue3/packages/shared/src/index.ts","D:/code/mini-vue3/packages/reactivity/src/effect.ts"],"map":"{\"version\":3,\"file\":\"computed.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/reactivity/src/computed.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,cAAc,EAAE,MAAM,UAAU,CAAC;AAE1C,MAAM,UAAU,QAAQ,CAAC,eAAe;IACtC,MAAM,UAAU,GAAG,UAAU,CAAC,eAAe,CAAC,CAAA;IAC9C,IAAI,MAAM,CAAA;IACV,IAAI,MAAM,CAAA;IACV,eAAe;IACf,IAAI,UAAU,EAAE;QACd,MAAM,GAAG,eAAe,CAAA;QACxB,MAAM,GAAG,GAAG,EAAE;YACZ,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;QAC7B,CAAC,CAAA;KACF;SAAM;QACL,MAAM,GAAG,eAAe,CAAC,GAAG,CAAA;QAC5B,MAAM,GAAG,eAAe,CAAC,GAAG,CAAA;KAC7B;IAED,OAAO,IAAI,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;AAC5C,CAAC;AAED,MAAM,eAAe;IASnB,YAAY,MAAM,EAAE,MAAM;QARnB,WAAM,GAAG,IAAI,CAAA;QACb,cAAS,GAAG,IAAI,CAAA;QAChB,mBAAc,GAAG,IAAI,CAAA;QACrB,QAAG,GAAG,IAAI,GAAG,EAAE,CAAA;QAMpB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,MAAM,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE;QAEnD,CAAC,CAAC,CAAA;IACJ,CAAC;IACD,IAAI,KAAK;QACP,OAAM;IACR,CAAC;IACD,IAAI,KAAK,CAAC,QAAQ;QAChB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;IACvB,CAAC;CACF\"}"}
